# 家庭功能测试结果记录

## 测试概览
- **测试日期**: _____________
- **测试人员**: _____________
- **测试环境**: http://139.129.108.119:8080
- **测试版本**: _____________

---

## 测试账号
| 账号 | 手机号 | 密码 | 用户ID | 备注 |
|------|--------|------|--------|------|
| A (管理员) | 13800138000 | abc123456 | | |
| B (成员) | 13900139000 | xyz123456 | | |
| C (成员) | 13700137000 | qwe123456 | | |

---

## 测试执行记录

### 模块一: 创建家庭
| ID | 测试用例 | 预期结果 | 实际结果 | 状态 | 备注 |
|----|----------|----------|----------|------|------|
| 1.1 | 用户登录成功 | 返回Token和UserId | | PASS / FAIL | |
| 1.2 | 创建家庭成功 | 返回家庭信息，角色为admin | | PASS / FAIL | |
| 1.3 | 家庭名正确显示 | 显示"测试家庭" | | PASS / FAIL | |
| 1.4 | 邀请码生成 | 6位大写字母数字组合 | | PASS / FAIL | |
| 1.5 | 用户角色为管理员 | myRole = "admin" | | PASS / FAIL | |

**邀请码**: _____________

---

### 模块二: 获取二维码
| ID | 测试用例 | 预期结果 | 实际结果 | 状态 | 备注 |
|----|----------|----------|----------|------|------|
| 2.1 | 管理员获取二维码 | 成功返回 | | PASS / FAIL | |
| 2.2 | 二维码内容格式 | FAMILY_INVITE:{code} | | PASS / FAIL | |
| 2.3 | 家庭名称正确 | 显示创建时的名称 | | PASS / FAIL | |
| 2.4 | 成员数量正确 | memberCount = 1 | | PASS / FAIL | |
| 2.5 | 普通成员获取二维码 | 返回权限错误 | | PASS / FAIL | |

---

### 模块三: 加入家庭
| ID | 测试用例 | 预期结果 | 实际结果 | 状态 | 备注 |
|----|----------|----------|----------|------|------|
| 3.1 | 解析邀请码 | 返回家庭预览信息 | | PASS / FAIL | |
| 3.2 | 预览信息包含家庭名 | 显示"测试家庭" | | PASS / FAIL | |
| 3.3 | 预览信息显示成员数 | 显示当前成员数 | | PASS / FAIL | |
| 3.4 | 加入家庭成功 | 返回家庭信息 | | PASS / FAIL | |
| 3.5 | 新成员角色为member | myRole = "member" | | PASS / FAIL | |
| 3.6 | 已有家庭用户加入 | 返回"已有家庭"错误 | | PASS / FAIL | |

---

### 模块四: 成员列表
| ID | 测试用例 | 预期结果 | 实际结果 | 状态 | 备注 |
|----|----------|----------|----------|------|------|
| 4.1 | 管理员查看成员列表 | 显示2个成员 | | PASS / FAIL | |
| 4.2 | 成员查看成员列表 | 显示2个成员 | | PASS / FAIL | |
| 4.3 | 成员信息完整 | 包含昵称、角色、加入时间 | | PASS / FAIL | |
| 4.4 | isMe标记正确 | 自己的成员isMe=true | | PASS / FAIL | |
| 4.5 | 角色显示正确 | admin显示管理员，member显示成员 | | PASS / FAIL | |

---

### 模块五: 成员管理
| ID | 测试用例 | 预期结果 | 实际结果 | 状态 | 备注 |
|----|----------|----------|----------|------|------|
| 5.1 | 管理员更新家庭名 | 更新成功 | | PASS / FAIL | |
| 5.2 | 成员看到新名称 | 刷新后显示新名称 | | PASS / FAIL | |
| 5.3 | 管理员移除成员 | 移除成功 | | PASS / FAIL | |
| 5.4 | 成员数减少 | 从2变1 | | PASS / FAIL | |
| 5.5 | 被移除成员无家庭 | 调用API返回无家庭 | | PASS / FAIL | |
| 5.6 | 普通成员无法移除 | 返回权限错误 | | PASS / FAIL | |
| 5.7 | 普通成员无法更新名称 | 返回权限错误 | | PASS / FAIL | |

---

### 模块六: 退出家庭
| ID | 测试用例 | 预期结果 | 实际结果 | 状态 | 备注 |
|----|----------|----------|----------|------|------|
| 6.1 | 普通成员退出 | 退出成功 | | PASS / FAIL | |
| 6.2 | 退出后无家庭信息 | 调用API返回无家庭 | | PASS / FAIL | |
| 6.3 | 成员数减少 | 从2变1 | | PASS / FAIL | |
| 6.4 | 退出后可重新加入 | 可以加入其他家庭 | | PASS / FAIL | |
| 6.5 | 管理员无法退出 | 返回"无法退出"错误 | | PASS / FAIL | |

---

### 模块七: 边界条件
| ID | 测试用例 | 输入 | 预期结果 | 实际结果 | 状态 | 备注 |
|----|----------|------|----------|----------|------|------|
| 7.1 | 空家庭名 | "" | 返回"不能为空" | | PASS / FAIL | |
| 7.2 | 超长家庭名 | 101字符 | 返回"最多100字符" | | PASS / FAIL | |
| 7.3 | 空邀请码 | "" | 返回"不能为空" | | PASS / FAIL | |
| 7.4 | 小写邀请码 | abc123 | 返回"格式错误" | | PASS / FAIL | |
| 7.5 | 无效邀请码 | ZZZZZZ | 返回"邀请码无效" | | PASS / FAIL | |
| 7.6 | 无家庭获取信息 | 无家庭用户 | 返回"未加入家庭" | | PASS / FAIL | |

---

## 问题记录

### 缺陷列表
| ID | 标题 | 严重程度 | 状态 | 描述 |
|----|------|----------|------|------|
| BUG-001 | | P0/P1/P2/P3 | OPEN/FIXED | |
| BUG-002 | | P0/P1/P2/P3 | OPEN/FIXED | |
| BUG-003 | | P0/P1/P2/P3 | OPEN/FIXED | |

**严重程度说明**:
- P0: 致命 - 功能无法使用
- P1: 严重 - 主要功能受影响
- P2: 一般 - 次要功能问题
- P3: 轻微 - UI或文案问题

---

## 测试统计

### 用例统计
| 模块 | 用例数 | 通过 | 失败 | 通过率 |
|------|--------|------|------|--------|
| 创建家庭 | 5 | | | |
| 获取二维码 | 5 | | | |
| 加入家庭 | 6 | | | |
| 成员列表 | 5 | | | |
| 成员管理 | 7 | | | |
| 退出家庭 | 5 | | | |
| 边界条件 | 6 | | | |
| **合计** | **39** | | | |

### 缺陷统计
| 严重程度 | 数量 | 已修复 | 待修复 |
|----------|------|--------|--------|
| P0 | | | |
| P1 | | | |
| P2 | | | |
| P3 | | | |
| **合计** | | | |

---

## 测试结论

### 评估标准
- **通过**: 所有关键用例通过，P0/P1缺陷全部修复
- **有条件通过**: 关键用例通过，少量P2缺陷待修复
- **不通过**: 存在P0或P1缺陷，或关键用例失败

### 结论
- [ ] 通过 - 可以发布
- [ ] 有条件通过 - 需修复后验证
- [ ] 不通过 - 需要重新测试

### 说明
___________________________________________________
___________________________________________________

---

## 签名
- **测试人员**: _____________ 日期: _____________
- **审核人员**: _____________ 日期: _____________
- **开发确认**: _____________ 日期: _____________
